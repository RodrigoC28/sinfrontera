<div class="container mt-4">
    <div class="table-responsive">
        <table class="table table-bordered table-hover">
            <thead class="thead-light">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Origem da Viagem</th>
                    <th scope="col">Destino da Viagem</th>
                    <th scope="col" class="text-center">Matrícula</th>
                    <th scope="col">Nome do Condutor</th>
                    <th scope="col" class="text-center">Data de registo</th>
                    <th scope="col" class="text-center">Data da última atualização</th>
                    <th scope="col" class="text-center">Ações</th>
                </tr>
            </thead>
            <tbody>

                <% autocarros.forEach((autocarro)=> { %>
                    <tr scope="row">
                        <td>
                            <%= autocarro.id_autocarro %>
                        </td>
                        <td>
                            <% autocarros.viagens.forEach((viagem) => { %>
                                <% if (viagem.id_viagem === autocarro.id_viagem) { %>
                                    <%= viagem.origem %>
                                <% } %>
                            <% }); %>
                        </td>
                        <td>
                            <% autocarros.viagens.forEach((viagem) => { %>
                                <% if (viagem.id_viagem === autocarro.id_viagem) { %>
                                    <%= viagem.destino %>
                                <% } %>
                            <% }); %>
                        </td>
                        <td class="col text-center">
                            <%= autocarro.matricula %>
                        </td>
                        <td>
                            <%= autocarro.condutor %>
                        </td>
                        <td class="col text-center">
                            <%= autocarro.dta_registo.toLocaleDateString('pt') %>
                        </td>
                        <td class="col text-center">
                            <%= autocarro.dta_atualizacao.toLocaleDateString('pt') %>
                        </td>
                        <td class="text-center">
                            <a class="edit" title="" data-toggle="tooltip" data-original-title="Editar"
                                href="http://localhost:5000/autocarros/<%- autocarro.id_autocarro %>"><i
                                    class="fas fa-pencil-alt" style="color: black"></i></a>&nbsp;&nbsp;
                            <a class="delete" title="" data-toggle="tooltip" data-original-title="Apagar"
                                href="http://localhost:5000/autocarros/delete/<%- autocarro.id_autocarro %>"><i
                                    class="fas fa-trash-alt" style="color: black"></i></a>
                        </td>
                    </tr>
                    <% }); %>
            </tbody>
        </table>
    </div>
</div>